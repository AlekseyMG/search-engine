# SearchEngine 
SearchEngine – проект поискового движка, в котором реализованы как индексация отдельных веб-страниц и веб-сайтов целиком, так и поиск по проиндексированным веб-страницам

---

## Примененные технологии
- Spring Core
- Spring Beans
- Spring Boot
- Spring Web
- Spring JPA 
- Hibernate
- Thymeleaf
- Fork/Join Framework
- JSoup
- MySQL
- Liquibase
- Lucene Framework
- Stream API
- Библиотека Apache Commons
- Lombok
- Maven
 
 ---
 
## Особенности проекта
В ходе работы над проектом пришлось столкнуть со множеством проблем:
- Различные ошибки при подключении к веб-странице с помощью JSoup 
- Большое количества запросов к базе данных
- Перегрузка кучи при удалении большого количества записей из таблиц с помощью метода deleteAll()
`java.lang.OutOfMemoryError: Java heap space`
- Определение является ли ссылка частью данного веб-сайта или другого
- Остановка всех задач во всех потоках и корректная запись результата
- Определение возможных ошибок в ходе индексации и их корректная обработка

Из-за всех этих проблем была выработано решение, позволяющее проводить параллельные вычисления над **каждой** задачей одновременно, не исчерпая ресурсы ЭВМ, корректно обрабатывать все возникающие ошибки в ходе индексации,  и быстро выводить результат поиска без лишних запросов к базе данных
 
 ---
 
## Какие задачи решает данный проект
SearchEngine дает возможность собирать и искать информацию
 
 ---
 
## Демо

- Добавление сайтов для парсинга и поиска:

![Демонстрация добавления сайтов](https://github.com/AlekseyMG/search-engine/assets/34042095/03d05ec3-d6e8-462f-af26-2b2638e4427c)
<br>

- Открытие интерфейса:

![Демонстрация открытия интерфейса](https://github.com/AlekseyMG/search-engine/assets/34042095/bcb900f1-e3af-462c-9197-30e4068f91c0)
<br>

- Запуск полной индексации по всем сайтам заданным ранее:

![Демонстрация запуска полной индексации](https://github.com/AlekseyMG/search-engine/assets/34042095/489cb979-eff7-43dd-af21-ea774d4be811)
<br>

- Запуск полной индексации с последующей остановкой:

![Демонстрация запуска полной индексации с остановкой](https://github.com/AlekseyMG/search-engine/assets/34042095/0668ddee-47de-4e93-a2f2-d5271bc6da37)
<br>

- Индексация отдельной страницы:

![Демонстрация индексации отдельной страницы](https://github.com/AlekseyMG/search-engine/assets/34042095/df8cb26b-a357-414e-9990-c800664ba22b)
<br>
 
- Работа поиска:

![Демонстрация работы поиска](https://github.com/AlekseyMG/search-engine/assets/34042095/bd78c88d-faee-4bb2-b6e2-b493aa7e5758)
<br>
 
 ---
 
## Инструкция по запуску:
**1.** Скомпилируйте код с помощью вкладки `Maven`, выбрав опции, как на снимке экрана дважды щелкнув по `spring-boot:build-image`:

<img width="50%" alt="Необходимые параметры для компиляции приложения" src="https://github.com/AlekseyMG/search-engine/assets/34042095/860d50ab-64d3-48e9-a1ba-9a10d9f77a94">
<br>

**2.** Дождитесь окончания упаковки проекта

**3.** Создайте директорию для готово проекта в удобном для Вас месте, но за пределами самого проекта 

**4.** Перейдите в папку `target` и скопируйте файл `SearchEngine-1.0.0.jar` в созданную Вами директорию

<img width="50%" alt="Местонахождение файла SearchEngine-1.0.0.jar в проекте" src="https://github.com/AlekseyMG/search-engine/assets/34042095/f30ee645-f89c-4338-a91f-6c4d37084ada">
<br>

**5.** Скопируйте файл `application.yaml` из корня проекта в Вашу директорию:

**6.** Настройте список сайтов для индексации в файле application.yaml (файл можно открыть с помощью любого текстового редактора). Пример настройки списка сайтов для индексации
<figure>
  <img width="50%" alt="Пример записи списка сайтов для индексации" src="https://github.com/AlekseyMG/search-engine/assets/34042095/03d05ec3-d6e8-462f-af26-2b2638e4427c">
  <br>
  <figcaption>
    <i>
      <p>
        &nbsp&nbsp&nbsp&nbsp&nbsp<strong>Важно:</strong> если Вы хотите добавить свои сайты для индексации, то Вам необходимо добавлять их <strong>строго</strong> в
        том же формате, что и на снимке экрана выше
      </p>
      <p>
        &nbsp&nbsp&nbsp&nbsp&nbsp"- url" – ссылка на главную страницу сайта в формате: <code>http://www.example.com</code> – где <code>http</code> может быть
        заменено на <code>https</code>, а <code>www.</code> может отсутствовать<br>
      </p>
      <p>
        &nbsp&nbsp&nbsp&nbsp&nbsp"name" – название сайта        
      </p>
    </i>
  </figcaption>
</figure>

**7.** Откройте командую строку (Windows) или терминал (macOs и перейдите в директорию, куда Вы скопировали файл `SearchEngine-1.0.0.jar`

**8.** Запустите приложение с помощью команды: `java -jar SearchEngine-1.0.0.jar`

**9.** Чтобы начать пользоваться приложением: откройте браузер и перейдите по url [http://localhost:8080](http://localhost:8080)

**10.** Для закрытия приложения перейдите в командую строку или терминал – в зависимости от Вашей операционной системы, и нажмите комбинацию клавиш `Ctrl + C`, чтобы закрыть программу

**Важно:** для использования приложения необходим MySQL с пустой схемой `search_engine` (название схемы можно изменить в настройках подключения). Настройки подключения к MySQL также находятся в application.yaml. 
Все таблицы в схеме создаются автоматически при запуске приложения (можно изменить в настройках).

- Схема MySQL:

![Schema MySQL](https://github.com/AlekseyMG/search-engine/assets/34042095/39c776c1-91d3-4eff-a28d-276260249f38)
