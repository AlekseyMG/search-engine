# SearchEngine 
SearchEngine – проект поискового движка, в котором реализованы как индексация отдельных веб-страниц и веб-сайтов целиком, так и поиск по проиндексированным веб-страницам

---

## Примененные технологии
- Spring Core
- Spring Beans
- Spring Boot
- Spring Web
- Spring JPA 
- Hibernate
- Thymeleaf
- Fork/Join Framework
- JSoup
- MySQL
- Liquibase
- Lucene Framework
- Stream API
- Библиотека Apache Commons
- Lombok
- Maven
 
 ---
 
## Особенности проекта
В ходе работы над проектом пришлось столкнуть со множеством проблем:
- Различные ошибки при подключении к веб-странице с помощью JSoup 
- Большое количества запросов к базе данных
- Перегрузка кучи при удалении большого количества записей из таблиц с помощью метода deleteAll()
`java.lang.OutOfMemoryError: Java heap space`
- Определение является ли ссылка частью данного веб-сайта или другого
- Остановка всех задач во всех потоках и корректная запись результата
- Определение возможных ошибок в ходе индексации и их корректная обработка

Из-за всех этих проблем была выработано решение, позволяющее проводить параллельные вычисления над **каждой** задачей одновременно, не исчерпая ресурсы ЭВМ, корректно обрабатывать все возникающие ошибки в ходе индексации,  и быстро выводить результат поиска без лишних запросов к базе данных
 
 ---
 
## Какие задачи решает данный проект
SearchEngine дает возможность собирать и искать информацию
 
 ---
 
## Демо

- Добавление сайтов для парсинга и поиска:

![Демонстрация добавления сайтов](https://github.com/AlekseyMG/search-engine/assets/34042095/f14240b1-4e14-496e-9842-2a0ae94c7d52)
<br>

- Открытие интерфейса:

![Демонстрация открытия интерфейса](https://github.com/AlekseyMG/search-engine/assets/34042095/3d9e81de-8da3-4c70-af88-e9da405c8e77)
<br>

- Запуск полной индексации по всем сайтам заданным ранее:

![Демонстрация запуска полной индексации](https://github.com/AlekseyMG/search-engine/assets/34042095/bcd1927b-3020-4dd9-9990-f9f51e90b01f)
<br>

- Запуск полной индексации с последующей остановкой:

![Демонстрация запуска полной индексации с остановкой](https://github.com/AlekseyMG/search-engine/assets/34042095/e9966d01-df10-4253-a10a-4a29c7b1c7a1)
<br>

- Индексация отдельной страницы:

![Демонстрация индексации отдельной страницы](https://github.com/AlekseyMG/search-engine/assets/34042095/2b9194ea-7b22-411b-a4ba-efc94cb3c1f7)
<br>
 
- Работа поиска:

![Демонстрация работы поиска](https://github.com/AlekseyMG/search-engine/assets/34042095/3e2789ae-274d-44ab-a5f8-0c3f1aeb38f6)
<br>
 
 ---
 
## Инструкция по запуску:
**1.** Скомпилируйте код с помощью вкладки `Maven`, выбрав опции, как на снимке экрана дважды щелкнув по `spring-boot:build-image`:

<img width="50%" alt="Необходимые параметры для компиляции приложения" src="https://github.com/AlekseyMG/search-engine/assets/34042095/0e366a6f-84de-4e21-a888-0ed86fade63c">
<br>

**2.** Дождитесь окончания упаковки проекта

**3.** Создайте директорию для готово проекта в удобном для Вас месте, но за пределами самого проекта 

**4.** Перейдите в папку `target` и скопируйте файл `SearchEngine-1.0.0.jar` в созданную Вами директорию

<img width="50%" alt="Местонахождение файла SearchEngine-1.0.0.jar в проекте" src="https://github.com/AlekseyMG/search-engine/assets/34042095/53bfd104-c6ec-4a0c-8579-153778cbe4e6">
<br>

**5.** Скопируйте файл `application.yaml` из корня проекта в Вашу директорию:

**6.** Настройте список сайтов для индексации в файле application.yaml (файл можно открыть с помощью любого текстового редактора). Пример настройки списка сайтов для индексации
<figure>
  <img width="50%" alt="Пример записи списка сайтов для индексации" src="https://github.com/AlekseyMG/search-engine/assets/34042095/f14240b1-4e14-496e-9842-2a0ae94c7d52">
  <br>
  <figcaption>
    <i>
      <p>
        &nbsp&nbsp&nbsp&nbsp&nbsp<strong>Важно:</strong> если Вы хотите добавить свои сайты для индексации, то Вам необходимо добавлять их <strong>строго</strong> в
        том же формате, что и на снимке экрана выше
      </p>
      <p>
        &nbsp&nbsp&nbsp&nbsp&nbsp"- url" – ссылка на главную страницу сайта в формате: <code>http://www.example.com</code> – где <code>http</code> может быть
        заменено на <code>https</code>, а <code>www.</code> может отсутствовать<br>
      </p>
      <p>
        &nbsp&nbsp&nbsp&nbsp&nbsp"name" – название сайта        
      </p>
    </i>
  </figcaption>
</figure>

**7.** Откройте командую строку (Windows) или терминал (macOs и перейдите в директорию, куда Вы скопировали файл `SearchEngine-1.0.0.jar`

**8.** Запустите приложение с помощью команды: `java -jar SearchEngine-1.0.0.jar`

**9.** Чтобы начать пользоваться приложением: откройте браузер и перейдите по url [http://localhost:8080](http://localhost:8080)

**10.** Для закрытия приложения перейдите в командую строку или терминал – в зависимости от Вашей операционной системы, и нажмите комбинацию клавиш `Ctrl + C`, чтобы закрыть программу

**Важно:** для использования приложения необходим MySQL с пустой схемой `search_engine` (название схемы можно изменить в настройках подключения). Настройки подключения к MySQL также находятся в application.yaml. 
Все таблицы в схеме создаются автоматически при запуске приложения (можно изменить в настройках).

- Схема MySQL:

![Schema MySQL](https://github.com/AlekseyMG/search-engine/assets/34042095/18c297cf-9fb4-43f5-8e65-f6eef62a165f)
